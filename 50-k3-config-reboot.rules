// PolicyKit rule to allow asterisk user to manage k3-config-reboot service
// This enables the asterisk user to trigger configuration updates and system reboots
// via systemctl without requiring root privileges or sudo.
//
// File location: /etc/polkit-1/rules.d/50-k3-config-reboot.rules

polkit.addRule(function(action, subject) {
    if (action.id == "org.freedesktop.systemd1.manage-units" &&
        action.lookup("unit") == "k3-config-reboot.service" &&
        (subject.user == "asterisk" || subject.user == "k3tech")) {
        return polkit.Result.YES;
    }
});
