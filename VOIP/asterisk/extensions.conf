;==============================================================================
; extensions.conf - Dialplan for Elevator Conference System
;==============================================================================

[general]
static=yes
writeprotect=no
clearglobals=no

;==============================================================================
; Main Internal Context
;==============================================================================
[from-internal]

;------------------------------------------------------------------------------
; Standard extension dialing (101-104, 200, 201)
;------------------------------------------------------------------------------
exten => 101,1,NoOp(Calling Extension 101)
 same => n,Dial(PJSIP/101,30)
 same => n,Hangup()

exten => 102,1,NoOp(Calling Extension 102)
 same => n,Dial(PJSIP/102,30)
 same => n,Hangup()

exten => 103,1,NoOp(Calling Extension 103)
 same => n,Dial(PJSIP/103,30)
 same => n,Hangup()

exten => 104,1,NoOp(Calling Extension 104)
 same => n,Dial(PJSIP/104,30)
 same => n,Hangup()

exten => 200,1,NoOp(Calling Extension 200)
 same => n,Dial(PJSIP/200,30)
 same => n,Hangup()

exten => 201,1,NoOp(Calling Extension 201)
 same => n,Dial(PJSIP/201,30)
 same => n,Hangup()

;------------------------------------------------------------------------------
; Conference Extension - Users dial 9876 to join as default_user
; First join starts conf; subsequent join directly
; Host (200) auto-joins as admin via external AMI monitor
;------------------------------------------------------------------------------
exten => 9876,1,NoOp(=== Joining Elevator Conference ===)
 same => n,Answer()  ; Answer for media
 same => n,ConfBridge(elevator_conference,default_bridge,default_user)  ; Bridge then user profile
 same => n,Hangup()
